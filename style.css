:root{
  --bg:#0d0d0d;
  --card:#11131a;
  --muted:#9aa3af;
  --text:#e5e7eb;
  --primary:#7c3aed;            /* violet */
  --primary2:#06b6d4;           /* cyan */
  --glass: rgba(255,255,255,.06);
  --border: rgba(255,255,255,.08);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text); background:radial-gradient(1200px 700px at 10% -10%, #1b1f32, transparent),
                     radial-gradient(1200px 700px at 110% 110%, #081a1f, transparent),
                     var(--bg);
}

/* Shell */
.shell{max-width:1100px; margin:0 auto; padding:24px}
.hero{padding:32px 0 12px}
.hero h1{margin:0; font-size:44px; letter-spacing:-.02em}
.sub{margin:8px 0 0; color:var(--muted)}

.card-grid{
  display:grid; grid-template-columns:1fr; gap:18px; margin-top:22px;
}
.mode-card{
  display:block; padding:22px; background:linear-gradient(135deg, rgba(124,58,237,.18), rgba(6,182,212,.18));
  border:1px solid var(--border); border-radius:16px; text-decoration:none; color:var(--text);
  box-shadow:var(--shadow); transition:.25s transform ease, .25s box-shadow ease;
}
.mode-card:hover{ transform:translateY(-2px); box-shadow:0 14px 40px rgba(0,0,0,.45) }
.mode-badge{display:inline-block; padding:6px 10px; border:1px solid var(--border); border-radius:999px; background:var(--glass); font-size:12px; color:var(--muted); margin-bottom:8px}
.mode-badge.secure{color:#86efac; border-color:#14532d; background:rgba(22,101,52,.18)}
.mode-card h2{margin:6px 0 6px}
.cta{margin-top:10px; font-weight:600; color:#a5b4fc}

/* Topbar */
.topbar{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 0}
.back{color:#a5b4fc; text-decoration:none}
.room-info{display:flex; flex-direction:column; gap:2px}
.actions{display:flex; gap:8px}

/* Chat layout */
.chat-shell{display:flex; flex-direction:column; min-height:100dvh}
.join-panel{margin-top:10px}
.join-card{
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:18px; padding:18px; box-shadow:var(--shadow)
}
.row{display:flex; flex-direction:column; gap:6px; margin:10px 0}
.row-inline{display:flex; gap:8px}
.grid-2{display:grid; grid-template-columns:1fr; gap:12px}

input, textarea{
  width:100%; background:#0b0c11; border:1px solid var(--border); color:var(--text);
  padding:12px 12px; border-radius:12px; outline:none; resize:none
}
input:focus, textarea:focus{border-color:#3b82f6}
.btn{
  border:none; padding:12px 14px; border-radius:12px; font-weight:600; cursor:pointer; white-space:nowrap
}
.btn.primary{
  background:linear-gradient(135deg, var(--primary), var(--primary2));
  color:white; box-shadow:0 10px 25px rgba(124,58,237,.35);
}
.btn.ghost{
  background:rgba(255,255,255,.05); color:#cbd5e1; border:1px solid var(--border)
}

/* Presence + messages */
.presence{display:flex; gap:8px; margin:10px 0}
.pill{
  padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:var(--glass); color:#cbd5e1; font-size:12px
}
.pill.me{border-color:#4c1d95; background:rgba(124,58,237,.22); color:#e9d5ff}

/* Messages list */
.messages{
  list-style:none; padding:0; margin:8px 0 120px; flex:1; overflow:auto; display:flex; flex-direction:column; gap:8px;
  scroll-behavior:smooth
}
.msg{
  max-width:78%; padding:10px 12px; border-radius:16px;
  border:1px solid var(--border); background:rgba(255,255,255,.04);
  backdrop-filter: blur(4px); box-shadow:var(--shadow); word-wrap:break-word; white-space:pre-wrap
}
.msg.me{ align-self:flex-end; background:linear-gradient(135deg, rgba(124,58,237,.25), rgba(6,182,212,.25)); border-color:rgba(124,58,237,.35) }
.meta{font-size:11px; color:#9aa3af; margin-top:4px}

/* Composer */
.composer{
  position:fixed; left:0; right:0; bottom:0; display:flex; gap:8px; align-items:center; padding:12px;
  background:linear-gradient(180deg, rgba(13,13,13,.1), rgba(13,13,13,.85) 40%, rgba(13,13,13,1));
  border-top:1px solid var(--border)
}
.icon-btn{border:none; background:rgba(255,255,255,.05); padding:10px 12px; border-radius:12px; cursor:pointer}
.emoji-picker{
  position:absolute; bottom:72px; left:12px; max-width:320px; max-height:240px; overflow:auto;
  background:#0b0c11; border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); padding:8px; display:grid; grid-template-columns:repeat(8, 1fr); gap:4px
}
.emoji-picker button{
  font-size:20px; background:transparent; border:none; cursor:pointer; padding:6px; border-radius:8px
}
.hidden{display:none}

/* Footer */
.foot{opacity:.7; font-size:13px; margin-top:16px}

/* Responsive */
@media (min-width:700px){
  .card-grid{grid-template-columns:repeat(2, 1fr)}
  .grid-2{grid-template-columns:repeat(2, 1fr)}
  .messages{margin-bottom:96px}
}
